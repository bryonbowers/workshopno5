<header class="contact-hero">
  <img src="../assets/aboutUs/contact-header.jpg" alt="Austin Architecture Office" class="w-100">
  <div class="contact-hero-overlay">
    <div class="container">
      <h1 class="contact-hero-title">Get In Touch</h1>
      <p class="contact-hero-subtitle">Let's discuss your vision</p>
    </div>
  </div>
</header>

<div class="py-5">
  <div class="container">
    <div class="row align-items-start">
      <div class="col-lg-5 mb-5 mb-lg-0">
        <span class="section-eyebrow">Contact Us</span>
        <h2 class="contact-section-title mb-4">We'd love to hear from you</h2>
        <p class="text-muted mb-5">Whether you're starting a new project or just exploring ideas, we're here to help bring your vision to life.</p>

        <div class="contact-info-card">
          <div class="contact-info-item">
            <div class="contact-info-icon">
              <i class="fas fa-phone"></i>
            </div>
            <div>
              <h4 class="contact-info-label">Telephone</h4>
              <a href="tel:1-512-710-9705" class="contact-info-value">+1 (512) 710-9705</a>
            </div>
          </div>

          <div class="contact-info-item">
            <div class="contact-info-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div>
              <h4 class="contact-info-label">Email</h4>
              <a href="mailto:vani&#64;workshopno5.com" class="contact-info-value">vani&#64;workshopno5.com</a>
            </div>
          </div>

          <div class="contact-info-item">
            <div class="contact-info-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <div>
              <h4 class="contact-info-label">Office</h4>
              <a href="https://goo.gl/maps/7esD7zzieH35LwrB6" target="_blank" class="contact-info-value">
                5409 Woodrow Ave APT C<br>Austin, TX 78756
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6 offset-lg-1">
        <!-- Success State -->
        <div class="form-success" *ngIf="formSubmitted" [@fadeInUp]>
          <div class="success-icon">
            <i class="fas fa-check"></i>
          </div>
          <h3 class="success-title">Message Sent!</h3>
          <p class="success-message">Thank you for reaching out. We'll be in touch within 24-48 hours.</p>
          <button class="btn btn-outline-primary" (click)="resetForm()">Send Another Message</button>
        </div>

        <!-- Contact Form -->
        <form class="contact-form" *ngIf="!formSubmitted" (ngSubmit)="onSubmit($event)" #contactForm="ngForm" novalidate>
          <!-- Honeypot field - hidden from users but bots will fill it -->
          <input type="text" id="website" name="website" [(ngModel)]="honeypot" style="position: absolute; left: -9999px; width: 1px; height: 1px;" tabindex="-1" autocomplete="off">

          <!-- Form load timestamp for bot detection -->
          <input type="hidden" id="formLoadTime" name="formLoadTime" [value]="formLoadTime">

          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="txtName">Your Name <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                id="txtName"
                name="name"
                [(ngModel)]="formData.name"
                #nameField="ngModel"
                required
                [class.is-invalid]="nameField.invalid && nameField.touched"
                [class.is-valid]="nameField.valid && nameField.touched"
                placeholder="John Doe">
              <div class="invalid-feedback" *ngIf="nameField.invalid && nameField.touched">
                Please enter your name.
              </div>
            </div>

            <div class="form-group col-md-6">
              <label for="txtPhone">Phone Number</label>
              <input
                type="tel"
                class="form-control"
                id="txtPhone"
                name="phone"
                [(ngModel)]="formData.phone"
                placeholder="(512) 555-0123">
            </div>
          </div>

          <div class="form-group">
            <label for="txtEmail">Email Address <span class="text-danger">*</span></label>
            <input
              type="email"
              class="form-control"
              id="txtEmail"
              name="email"
              [(ngModel)]="formData.email"
              #emailField="ngModel"
              required
              email
              [class.is-invalid]="emailField.invalid && emailField.touched"
              [class.is-valid]="emailField.valid && emailField.touched"
              placeholder="you@example.com">
            <div class="invalid-feedback" *ngIf="emailField.errors?.['required'] && emailField.touched">
              Email address is required.
            </div>
            <div class="invalid-feedback" *ngIf="emailField.errors?.['email'] && emailField.touched">
              Please enter a valid email address.
            </div>
          </div>

          <div class="form-group">
            <label for="selectRequestType">Project Type <span class="text-danger">*</span></label>
            <select
              class="form-control custom-select"
              id="selectRequestType"
              name="requestType"
              [(ngModel)]="formData.requestType"
              #requestTypeField="ngModel"
              required
              [class.is-invalid]="requestTypeField.invalid && requestTypeField.touched"
              [class.is-valid]="requestTypeField.valid && requestTypeField.touched">
              <option value="">Select a project type</option>
              <option value="Residential">Residential</option>
              <option value="Commercial">Commercial</option>
              <option value="Other">Other</option>
            </select>
            <div class="invalid-feedback" *ngIf="requestTypeField.invalid && requestTypeField.touched">
              Please select a project type.
            </div>
          </div>

          <div class="form-group">
            <label for="txtHowdYouHear">How did you hear about us?</label>
            <input
              type="text"
              class="form-control"
              id="txtHowdYouHear"
              name="howdYouHear"
              [(ngModel)]="formData.howdYouHear"
              placeholder="Referral, Google, Instagram...">
          </div>

          <div class="form-group">
            <label for="txtDescription">Tell us about your project</label>
            <textarea
              class="form-control"
              id="txtDescription"
              name="description"
              [(ngModel)]="formData.description"
              rows="4"
              placeholder="Share any details about your project vision, timeline, or questions..."></textarea>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="txtWhenToBegin">When would you like to begin?</label>
              <input
                type="text"
                class="form-control"
                id="txtWhenToBegin"
                name="whenToBegin"
                [(ngModel)]="formData.whenToBegin"
                placeholder="ASAP, 3 months, etc.">
            </div>

            <div class="form-group col-md-6">
              <label for="txtWorkedWithArchitect">Worked with an architect before?</label>
              <select
                class="form-control custom-select"
                id="txtWorkedWithArchitect"
                name="workedWithArchitect"
                [(ngModel)]="formData.workedWithArchitect">
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
          </div>

          <!-- Google reCAPTCHA v2 -->
          <div class="form-group">
            <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI" data-callback="onRecaptchaSuccess" data-expired-callback="onRecaptchaExpired"></div>
            <input type="hidden" id="recaptchaResponse" name="recaptchaResponse" [(ngModel)]="recaptchaToken">
            <div class="text-danger small mt-2" *ngIf="showRecaptchaError">
              <i class="fas fa-exclamation-circle me-1"></i> Please complete the reCAPTCHA verification.
            </div>
          </div>

          <!-- Form Error Message -->
          <div class="alert alert-danger" *ngIf="formError" [@fadeInUp]>
            <i class="fas fa-exclamation-triangle me-2"></i> {{ formError }}
          </div>

          <button
            class="btn btn-primary btn-lg btn-submit"
            type="submit"
            [disabled]="isSubmitting"
            [class.is-loading]="isSubmitting">
            <span class="btn-text">
              <span *ngIf="!isSubmitting">Send Message</span>
              <span *ngIf="isSubmitting">Sending...</span>
            </span>
            <span class="btn-loader" *ngIf="isSubmitting">
              <i class="fas fa-circle-notch fa-spin"></i>
            </span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<section class="map-section">
  <div class="container-fluid p-0">
    <iframe
      width="100%"
      height="450"
      frameborder="0"
      class="border-0"
      src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDPcy7_HvdaXqqXk4tj2ddxM54zbPTNvfg&q=Work Shop No5"
      allowfullscreen
      loading="lazy">
    </iframe>
  </div>
</section>
